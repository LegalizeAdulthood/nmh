##############################################################################
#    Instructions to Make, for compilation of SendMail/SMTP-MTS library
#
#	This file is automatically generated.  Do not edit!
# @(#)$Id: sendmail,v 1.10 1992/11/20 17:14:07 jromine Exp $
##############################################################################

# The following entries were inserted during MH configuration
OPTIONS	=	-DSYS5 -DSVR4 -DFCNTL -DRENAME -DVSPRINTF -DATTVIBUG -DDBMPWD -DDUMB -DMORE='"/usr/bin/more"' -DMSGPROT='"0600"' -DMSGID -DRPATHS -DSOCKETS -DFOLDPROT='"0711"' -DSHADOW -DSYS5DIR -DMHRC -DMHE -DMIME -DSENDMTS -DSMTP -DSPRINTFTYPE=int -DTYPESIG=void -O -g -I..

CC	=	cc
CFLAGS	=	$(OPTIONS)
LFLAGS	=	-bhu $(OPTIONS)
CP	=	cp
LN	=	ln

LIB	=	sendmts.a

CFILES	=	hosts.c smail.c
OFILES	=	hosts.o smail.o


##############################################################################
#	Generation Rules
##############################################################################

.c.o:;		$(CC) $(CFLAGS) -c $*.c


##############################################################################
#	Here it is...
##############################################################################

all:		$(LIB)
depend:;
lint:		l-sendmts

$(LIB):		$(OFILES)
		-mv $@ z$@
		ar r $@ `lorder $(OFILES) | tsort`
		-rm -f ../libmts.a
		-cd ..; $(LN) sendmail/$@ libmts.a
		-rm -f ../llib-lmts
		-cd .. ; $(LN) sendmail/llib-lsendmail llib-lmts
		-@ls -l $@
		-@echo "SendMail/SMTP-MTS library built normally"

l-sendmts:;	lint $(LFLAGS) $(CFILES) $(LLIBS)

hosts.o:	Makefile
smail.o:	Makefile smail.h


##############################################################################
#	Miscellaneous tasks
##############################################################################

unconfig:	distribution
		-rm -f Makefile

distribution:   clean
		-rm -f bboardsMH.m4 popMH.m4

clean:		unclean
		-rm -f *.o $(LIB) z$(LIB)

unclean:;	-rm -f _* :* core
